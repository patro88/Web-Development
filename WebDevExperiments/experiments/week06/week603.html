<!DOCTYPE html>
<html>
<head>
    <title> Displaying JSON data </title>
    <link rel="stylesheet" href="../bootstrap-3.3.2-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../bootstrap-3.3.2-dist/css/bootstrap-theme.min.css">
    <script src=" http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="../js/angular.min.js"></script>
    <script src="../js/angular-route.min.js"></script>
</head>
<body>

    <div class="container">
        <h1>
            Displaying JSON data
        </h1>
        <hr />
        <h2>Description:</h2>
        <p>
            In this experiment I have written a simple Node JS application using Express JS to display a JSON object stored on the server.
            The data can be retrieved using a range of urls provided by the server.js. I have provided urls to retrieve total data as well as 
            individual data using <code> id </code> parameter at the end of the url.

        </p>
        <hr />
        <h3>Display all Json data:</h3>

        <div class="container">
            <div style="margin: 20px;">
                Click<a href="http://nodejs-shakti200.rhcloud.com/api/book"> <strong>here</strong> </a> to launch the nodeJS application.
            </div>
            <div>
                <img src="../images/image603.jpg" class="img-thumbnail" />
            </div>
        </div>


        <hr />
        <h3>Display Json data based on index :</h3>

        <div class="container">
            <div style="margin: 20px;">
                Click<a href="http://nodejs-shakti200.rhcloud.com/api/book/2"> <strong>here</strong> </a> to launch data of 2nd book.
            </div>
            <div>
                <img src="../images/image604.jpg" class="img-thumbnail" />
            </div>
        </div>


        <hr />
        <div class="container-fluid">
            <h3>Code Snippet</h3>

            <div class="label-info">Server.js Code : </div><br />
            <p>
                Apart from the changes in I have added following lines to accept a get request for the <code>/api/book</code> urls.
                
                <a href="week602.html">Experiment 602</a>
            </p>
            <code>

                app.get('/api/book', function (req, res) {<br />
                res.json(books);<br />
                });<br />
                <br />
            </code>
            <p>
                Also, I added urls to retrieve books based on the id (index) provided in the url, Ex:  <code>/api/book/2</code>.
                The index is obtained by <code> req</code> parameter using the <code> req.param.id</code> function.
            </p>
            <code>
                app.get('/api/book/:id', function (req, res) {<br />
                res.json(books[req.params.id]);<br />
                });<br />
                <br />
                <br />
            </code>
        <hr />
        <h3> View Source : </h3>
        <a href="../../fileview/Default.aspx?~/experiments/week06/week603.html" target="_blank"> HTML </a><br />
        <p>
            <h3> Reference :</h3>
            <a href="http://nodejs.org/" target="_blank"> NodeJS </a><br />
            <a href="https://angularjs.org/" target="_blank"> Angular JS </a><br />
        </p>

        <hr />


    </div>


</body>
</html>
